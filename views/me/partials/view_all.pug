.col-md-10.center(ng-show="students_report")
  .card
    .card-header.card-header-icon(data-background-color="rose")
      i.material-icons report
    .card-content
      button.btn.btn-label.pull-left(ng-click="showDivs()") Close
      button.btn.btn-label.btn-primary.pull-right(ng-click="printDiv('printReport')") Print
      .col-md-12
        .box
          .box-body
            div
            br
            br
            br
            h2.card-title.text-center.text-info(ng-show="!studentMark.length") <strong>Loading, please wait...</strong>
            #printReport(ng-show="studentMark.length")
              .table-responsive.table-condensed
                table.table.table-curved
                  tr
                    td(colspan='2')
                      table.table.table-curved(ng-repeat="user in userInfo")
                        tr
                          td(rowspan="3", width="20%")
                            img(src="/school.profile/"+school_id alt="Image")
                          td()
                            center: strong STUDENT'S PROGRESSIVE REPORT
                          td(rowspan="3", width="20%")
                            .center
                              img.img-rounded(src="/pp.view/{{user.upic}}")
                              | URN: <strong> {{user.uurn|uppercase}}</strong>
                              br
                              | Class: <strong> {{user.classe|uppercase}}</strong>
      
                        tr
                          td()
                            p: strong
                              | Ministry of Education
                              br
                              | {{school_district|toDistrict}}
                              br
                              | {{school_name|uppercase}}
                              br
                              | TeL : {{school_phone||'________________'}}
                              br
                              | {{school_pob||'POBox.:_____________'|uppercase}}
                        tr
                          td()
                            center
                              | Names: 
                              strong {{user.uname|uppercase}}
                            //- img(src="/pp.view/{{user.upic}}")
                  tr
                    td(colspan='2', style='text-align:left;')
                      .col-md-12
                        center
                          strong Academic Year 2017
                  tr
                    td(colspan='2', align='left',style="text-align:left;")
                      table.table.table-condensed.table-bordered
                        thead
                          tr(print-remove)
                            th(rowspan='3')
                              | Subject
                          tr(print-remove)
                            th(colspan='3', style='text-align:center;font-weight: bold;background: #CCC')
                              | MAX POINTS
                            th.report-th(colspan='3',style="border-right: 3px solid #cdd0d4; border-top: 2px solid #cdd0d4;")
                              strong FIRST TERM
                            th.report-th(colspan='3',style="border-right: 3px solid #cdd0d4; border-top: 2px solid #cdd0d4;")
                              strong SECOND TERM
                            th.report-th(colspan='3',style="border-right: 3px solid #cdd0d4; border-top: 2px solid #cdd0d4;")
                              strong THIRD TERM
                            th.report-th(colspan='3')
                              strong ANNUAL POINTS
                          tr(align='center')
                            th.report-td-pct: strong TEST
                            th.report-td-pct: strong EX
                            th.report-td-pct: strong TOT
                            th.report-th: strong TEST
                            th.report-th: strong EX
                            th.report-th(style="border-right: 3px solid #cdd0d4;"): strong TOT
                            th.report-th: strong TEST
                            th.report-th: strong EX
                            th.report-th(style="border-right: 3px solid #cdd0d4;"): strong TOT
                            th.report-th: strong TEST
                            th.report-th: strong EX
                            th.report-th(style="border-right: 3px solid #cdd0d4;"): strong TOT
                            th.report-th: strong MAX
                            th.report-th: strong TOTAL
                            th.report-th: strong %
                        tbody
                          tr
                            td(style='font-weight: bold; background: #e3e7ed; text-align:left;') CONDUCT
                            td(colspan='3', style='text-align:center;font-weight: bold;background: #CCC') 40
                            td(colspan='3', style="border-right: 3px solid #cdd0d4;") {{conduite_t1}}
                            td(colspan='3', style="border-right: 3px solid #cdd0d4;") {{conduite_t2}}
                            td(colspan='3', style="border-right: 3px solid #cdd0d4;") {{conduite_t3}}
                            td(colspan='3') {{conduite_t}}
                          tr(ng-repeat="mark in studentMark|orderBy:'-course_quota'")
                            td(style='font-weight: bold; background: #e3e7ed; text-align:left;')
                              | {{mark.name|uppercase}}
                            td.report-td-pct {{mark.test_quota}}
                            td.report-td-pct {{mark.exam_quota}}
                            td.report-td-pct {{mark.course_quota}}
                            td 
                              span(ng-if="mark.testTerm1<mark.test_quota/2")
                                u(style="color:red;") {{(mark.testTerm1).toFixed(1)}}
                              span(ng-if="mark.testTerm1>=mark.test_quota/2") {{(mark.testTerm1).toFixed(1)}}

                            td 
                              span(ng-if="mark.examTerm1<mark.exam_quota/2")
                                u(style="color:red;") {{(mark.examTerm1).toFixed(1)}}
                              span(ng-if="mark.examTerm1>=mark.exam_quota/2") {{(mark.examTerm1).toFixed(1)}}
                            td
                              span(ng-if="mark.totalTerm1<mark.course_quota/2")
                                u(style="color:red;") {{(mark.totalTerm1).toFixed(1)}}
                              span(ng-if="mark.totalTerm1>=mark.course_quota/2") {{(mark.totalTerm1).toFixed(1)}}
                            td
                              span(ng-if="mark.testTerm2<mark.test_quota/2")
                                u(style="color:red;") {{(mark.testTerm2).toFixed(1)}}
                              span(ng-if="mark.testTerm2>=mark.test_quota/2") {{(mark.testTerm2).toFixed(1)}}
                            td 
                              span(ng-if="mark.examTerm2<mark.exam_quota/2")
                                u(style="color:red;") {{(mark.examTerm2).toFixed(1)}}
                              span(ng-if="mark.examTerm2>=mark.exam_quota/2") {{(mark.examTerm2).toFixed(1)}}
                            td
                              span(ng-if="mark.totalTerm2<mark.course_quota/2")
                                u(style="color:red;") {{(mark.totalTerm2).toFixed(1)}}
                              span(ng-if="mark.totalTerm2>=mark.course_quota/2") {{(mark.totalTerm2).toFixed(1)}}
                            td 
                              span(ng-if="mark.testTerm3<mark.test_quota/2")
                                u(style="color:red;") {{(mark.testTerm3).toFixed(1)}}
                              span(ng-if="mark.testTerm3>=mark.test_quota/2") {{(mark.testTerm3).toFixed(1)}}
                            td 
                              span(ng-if="mark.examTerm3<mark.exam_quota/2")
                                u(style="color:red;") {{(mark.examTerm3).toFixed(1)}}
                              span(ng-if="mark.examTerm3>=mark.exam_quota/2") {{(mark.examTerm2).toFixed(1)}}
                            td
                              span(ng-if="mark.totalTerm3<mark.course_quota/2")
                                u(style="color:red;") {{(mark.totalTerm3).toFixed(1)}}
                              span(ng-if="mark.totalTerm3>=mark.course_quota/2") {{(mark.totalTerm3).toFixed(1)}}
                            td.report-td-pct
                              | {{mark.anualQuotaTotal}}
                            td
                              span(ng-if="mark.anualMarkTotal*100/mark.anualQuotaTotal<100/2")
                                u(style="color:red;") {{(mark.anualMarkTotal).toFixed(1)}}
                              span(ng-if="mark.anualMarkTotal*100/mark.anualQuotaTotal>=100/2") {{(mark.anualMarkTotal).toFixed(1)}} 
                            td 
                              span(ng-if="mark.anualMarkPct<100/2")
                                u(style="color:red;") {{(mark.anualMarkPct).toFixed(1)}}% 
                              span(ng-if="mark.anualMarkPct>=100/2") {{(mark.anualMarkPct).toFixed(1)}}%
                          
                        tfoot(align='right')
                          tr
                            td(align='left', style='font-weight: bold; ')
                              | Total
                            td.report-td-pct {{qTest}}
                            td.report-td-pct {{qExam}}
                            td.report-td-pct {{qtotal}}
                            td
                              span(ng-if="testT1<qTest/2")
                                u(style="color:red;")  {{testT1.toFixed(1)}}
                              span(ng-if="testT1>=qTest/2") {{testT1.toFixed(1)}}
                            td
                              span(ng-if="totalT1<qExam/2")
                                u(style="color:red;") {{totalT1.toFixed(1)}}
                              span(ng-if="totalT1>=qExam/2") {{totalT1.toFixed(1)}}
                            td
                              span(ng-if="totalT1<qExam/2")
                                u(style="color:red;") {{totalT1.toFixed(1)}}
                              span(ng-if="totalT1>=qExam/2") {{totalT1.toFixed(1)}} 
                            td
                              span(ng-if="testT2<qTest/2")
                                u(style="color:red;")  {{testT2.toFixed(1)}}
                              span(ng-if="testT2>=qTest/2") {{testT2.toFixed(1)}}
                            td
                              span(ng-if="ExamT2<qExam/2")
                                u(style="color:red;") {{ExamT2.toFixed(1)}}
                              span(ng-if="ExamT2>=qExam/2") {{ExamT2.toFixed(1)}}
                            td
                              span(ng-if="totalT2<qExam/2")
                                u(style="color:red;") {{totalT2.toFixed(1)}}
                              span(ng-if="totalT2>=qExam/2") {{totalT2.toFixed(1)}} 
                            td
                              span(ng-if="testT3<qTest/2")
                                u(style="color:red;")  {{testT3.toFixed(1)}}
                              span(ng-if="testT3>=qTest/2") {{testT3.toFixed(1)}} 
                            td
                              span(ng-if="ExamT3<qExam/2")
                                u(style="color:red;") {{ExamT3.toFixed(1)}}
                              span(ng-if="ExamT3>=qExam/2") {{ExamT3.toFixed(1)}}
                            td
                              span(ng-if="totalT3<qExam/2")
                                u(style="color:red;") {{totalT3.toFixed(1)}}
                              span(ng-if="totalT3>=qExam/2") {{totalT3.toFixed(1)}} 
                            td.report-td-pct {{yQuotaTotal}}
                            td 
                              span(ng-if="mQuotaTotal*100/yQuotaTotal<100/2")
                                u(style="color:red;") {{mQuotaTotal.toFixed(1)}}
                              span(ng-if="mQuotaTotal*100/yQuotaTotal>=100/2") {{mQuotaTotal.toFixed(1)}}

                            td
                              
                          tr
                            td(align='left', style='font-weight: bold;')
                              | %
                            td(colspan='3', style='font-weight: bold;')
                              | 
                            td(colspan='3', style='font-weight: bold;')
                              span(ng-if="totalT1Pct<100/2")
                                u(style="color:red;") {{totalT1Pct.toFixed(1)}}
                              span(ng-if="totalT1Pct>=100/2") {{totalT1Pct.toFixed(1)}}

                            td(colspan='3', style='font-weight: bold;')
                              span(ng-if="totalT2Pct<100/2")
                                u(style="color:red;") {{totalT2Pct.toFixed(1)}}
                              span(ng-if="totalT2Pct>=100/2") {{totalT2Pct.toFixed(1)}}
                              
                            td(colspan='3', style='font-weight: bold;')
                              span(ng-if="totalT3Pct<100/2")
                                u(style="color:red;")  {{totalT3Pct.toFixed(1)}}
                              span(ng-if="totalT3Pct>=100/2") {{totalT3Pct.toFixed(1)}}
                            td(colspan='3', style='font-weight: bold;')
                              span(ng-if="anualTotalT3Pct<100/2")
                                u(style="color:red;") {{anualTotalT3Pct.toFixed(1)}}%
                              span(ng-if="anualTotalT3Pct>=100/2") {{anualTotalT3Pct.toFixed(1)}}%
                          tr(ng-repeat="place in places")
                            td(align='left', style='font-weight: bold;text-align:left;')
                              | Position
                            td(colspan='3', style='font-weight: bold;')
                            td(colspan='3', style='font-weight: bold;')
                              | {{place.p1}}/{{studentsMark.length}}
                            td(colspan='3', style='font-weight: bold;')
                              | {{place.p2}}/{{studentsMark.length}}
                            td(colspan='3', style='font-weight: bold;')
                              | {{place.p3}}/{{studentsMark.length}}
                            td(colspan='3', style='font-weight: bold;')
                              | {{place.y_place}}/{{studentsMark.length}}
                          tr
                            td(align='left', style='font-weight: bold;text-align:left;')
                              | Teacher's Signature
                            td(colspan='6')
                            td(colspan='3')
                            td(colspan='3')
                            td(colspan='3')
                          tr
                            td(align='left', style='font-weight: bold;text-align:left;')
                              | Parent's Signature
                            td(colspan='6')
                            td(colspan='3')
                            td(colspan='3')
                            td(colspan='3')
                  tr
                    td
                      strong Pass
                      br
                      strong Repeat
                      br
                      strong Discontinued
                    td
                      | Done at 
                      strong {{school_district|toDistrict}}
                      br
                      br
                      | HeadMistress:
                      br
                      | (Signature and stamps)
              .pull.pull-right
                | MADE BY: 
                label(style="color:red")
                  | e-Shuri.rw
                br